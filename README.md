# Сервис укорачивания ссылок
Позволяет ассоциировать длинную пользовательскую ссылку с короткой, которую предлагает сам пользователь или предоставляет сервис.

Ключевые возможности сервиса:
* генерация коротких ссылок и связь их с исходными длинными ссылками,
* переадресация на исходный адрес при обращении к коротким ссылкам.

Пользовательский интерфейс сервиса — одна страница с формой для обращения к сервису.

Сервис предоставляет публичный API, содержащий два эндпоинта:
* `/api/id/` — POST-запрос на создание новой короткой ссылки;
* `/api/id/<short_id>/` — GET-запрос на получение оригинальной ссылки по указанному короткому идентификатору `<short_id>`.

### Автор
Москалянов Евгений

### Технологии
Python 3.10,
Flask 2.0,
SQLAlchemy 1.4,
Alembic 1.7,
SQLite

### Запуск сервиса в режиме разработки

В ОС Windows предполагается использование Git Bash.

Клонировать репозиторий и перейти в него в командной строке:
```
git clone git@github.com:eugemos/yacut.git
cd yacut
```

Создать и активировать виртуальное окружение:
* в ОС Linux:
```
python3 -m venv venv
source venv/bin/activate
```

* в ОС Windows
```
py -3 -m venv venv
source venv/scripts/activate
```

Обновить утилиту pip:
* в ОС Linux:
```
python3 -m pip install --upgrade pip
```

* в ОС Windows:
```
py -m pip install --upgrade pip
```

Установить зависимости из файла requirements.txt:
```
pip install -r requirements.txt
```

В корне проекта создать файл `.env`, взяв за основу файл `.env.template`.
При необходимости, отредактировать его.
Значение переменных:
* FLASK_APP - задаёт точку старта программы. Эту переменную изменять не следует;
* FLASK_ENV - режим работы сервиса (development - разработка, production - продакшен);
* DATABASE_URI - строка подключения к БД;
* SECRET_KEY - секретный ключ программы.

Выполнить миграции:
```
flask db upgrade
```

Запустить приложение:
```
flask run
```

Сервис запустится на сервере разработки по адресу http://127.0.0.1:5000.

### Использование
В корне сайта расположена страница с формой для создания короткой ссылки.
Полученную короткую ссылку можно непосредственно вводить в адресную строку браузера, пользователь будет перенаправлен на исходный длинный адрес.

Для обращения к API приложения можно использовать утилиту для обмена данными
по протоколу HTTP. Например, **postman** https://www.postman.com
Эндпойнты API были приведены выше.
